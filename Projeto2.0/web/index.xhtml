<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template.xhtml">
        <ui:define name="content">
            <section id="corpo">
                <h:form>
                    <article id="area-drop">

                        <p:panelGrid columns="3" style="margin: 0px auto;" layout="grid">
                            <p:fieldset id="campoSuj" legend="Sujeito">
                                <p:graphicImage  styleClass="image-droped" rendered="#{not empty principalController.objDropedSuj}" url="#{principalController.path}#{principalController.objDropedSuj.url}"/>
                                <p:droppable   datasource=":#{p:component('availableSuj')}" scope="suj" tolerance="fit" activeStyleClass="actDrop" hoverStyleClass="hovDrop"  onDrop="handleDrop">
                                    <p:ajax listener="#{principalController.onDropSuj}" update="campoSuj :#{p:component('availableSuj')} :#{p:component('botFala')}"/>
                                </p:droppable>
                            </p:fieldset>
                            <p:fieldset id="campoVerb" legend="Verbo">
                                <p:graphicImage styleClass="image-droped" rendered="#{not empty principalController.objDropedVerb}" url="#{principalController.path}#{principalController.objDropedVerb.url}"/>
                                <p:droppable datasource=":#{p:component('availableVerb')}" scope="verb" tolerance="fit"  activeStyleClass="actDrop" hoverStyleClass="hovDrop" onDrop="handleDrop">
                                    <p:ajax listener="#{principalController.onDropVerb}" update="campoVerb :#{p:component('availableVerb')} :#{p:component('botFala')}"/>
                                </p:droppable>
                            </p:fieldset>  
                            <p:fieldset id="campoComp" legend="Complemento">    
                                <p:graphicImage styleClass="image-droped" rendered="#{not empty principalController.objDropedComp}" url="#{principalController.path}#{principalController.objDropedComp.url}"/>
                                <p:droppable datasource=":#{p:component('availableComp')}" scope="comp" tolerance="fit"   activeStyleClass="actDrop" hoverStyleClass="hovDrop" onDrop="handleDrop">
                                    <p:ajax listener="#{principalController.onDropComp}" update="campoComp :#{p:component('availableComp')} :#{p:component('botFala')}" />
                                </p:droppable>
                            </p:fieldset>
                        </p:panelGrid>
                    </article>
                    <article id="area-drag">
                        <p:tabView id="tabView">
                            <p:tab title="Sujeito">
                                <p:dataGrid id="availableSuj" value="#{principalController.sujeitoList}" var="suj"  columns="6" layout="grid">
                                    <p:panel>
                                        <p:graphicImage styleClass="image-drag" url="#{principalController.path}#{suj.url}" width="100px" height="100px">
                                            <p:draggable revert="true" scope="suj"/>
                                        </p:graphicImage><br/>
                                        <h:outputText value="#{suj.palavra}"/>
                                    </p:panel>
                                </p:dataGrid>
                            </p:tab>
                            <p:tab title="Verbo">   
                                <p:dataGrid id="availableVerb" value="#{principalController.verboList}" var="verb"  columns="6" layout="grid">
                                    <p:panel>
                                        <p:graphicImage styleClass="image-drag" url="#{principalController.path}#{verb.url}">
                                            <p:draggable revert="true" scope="verb"/>
                                        </p:graphicImage><br/>
                                        <h:outputText value="#{verb.palavra}"/>
                                    </p:panel>
                                </p:dataGrid>
                            </p:tab>
                            <p:tab title="Complemento">
                                <p:dataGrid id="availableComp" value="#{principalController.complementoList}" var="comp"   columns="6" layout="grid">
                                    <p:panel>
                                        <p:graphicImage styleClass="image-drag" id="comp" url="#{principalController.path}#{comp.url}" width="100px" height="100px">
                                            <p:draggable revert="true" scope="comp"/>
                                        </p:graphicImage> <br/>
                                        <h:outputText value="#{comp.palavra}"/>
                                    </p:panel>   
                                </p:dataGrid>
                            </p:tab>
                        </p:tabView>

                    </article>
                </h:form>
            </section>
            <aside id="painel-lateral">
                <h2> Nome Paciente </h2>
                <img id="avatar" src="resources/uploads/imagemSujeito/eu.png"/>
                <h:form>
                    <p:commandButton id="botFala" icon="ui-icon-play"  disabled="#{(empty principalController.objDropedSuj) or (empty principalController.objDropedVerb)}" update="player"/>
                </h:form>
                <p id="data"></p>
                <p:fieldset  id="player" style="visibility: hidden">
                    <audio controls="" src="#{principalController.path}#{principalController.nomeAudio}.mp3" autoplay="true" ></audio>
                </p:fieldset>
            </aside>
        </ui:define>
    </ui:composition>
</html>
